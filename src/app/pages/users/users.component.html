<div class="container">
    <h5 class="text-center mb-1 fw-bold heading">
        <i class="fas fa-user"></i> User Management
    </h5>
    @if (isNewFormVisible()) {
    <div class="card p-4 shadow-lg">
        <form id="userForm">
            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label">Username: </label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="fas fa-user"></i>
                        </span>
                        <input type="text" class="form-control" id="userName" name="userName"
                            [(ngModel)]="userobj.userName" placeholder="Enter username" required>
                    </div>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Email:</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="fas fa-envelope"></i>
                        </span>
                        <input type="email" class="form-control" name="emailId" [(ngModel)]="userobj.emailId"
                            id="emailId" placeholder="Enter email" required>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label">Full Name :</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="fas fa-user"></i>
                        </span>
                        <input type="text" class="form-control" name="fullName" [(ngModel)]="userobj.fullName"
                            id="fullName" placeholder="Enter full name" required>
                    </div>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Role:</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="fas fa-user-shield"></i>
                        </span>
                        <input type="text" class="form-control" id="role" placeholder="Enter role" required>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label">Password:</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="fas fa-lock"></i>
                        </span>
                        <input type="password" [(ngModel)]="userobj.password" name="password" class="form-control"
                            id="password" placeholder="Enter password" required>
                    </div>
                </div>
            </div>
            @if (userobj.userId==0) {
            <button type="button" (click)="addUser()" class="btn btn-primary btn-icon">
                <span><i class="fas fa-plus"></i> Add User</span>
            </button>
            }
            @else {
            <button (click)="onUpdateUser()" class="btn btn-warning btn-icon">
                <span><i class="fas fa-edit"></i> Update User</span>
            </button>
            }
        </form>
    </div>
    }

    <div class="mt-4">
        <table class="table table-hover table-bordered text-center">
            <thead class="table-primary">
                <tr>
                    <th><i class="fas fa-hashtag"></i> Sr no</th>
                    <th><i class="fas fa-user"></i> Username</th>
                    <th><i class="fas fa-envelope"></i> Email</th>
                    <th><i class="fas fa-user-tag"></i> Full Name</th>
                    <th><i class="fas fa-id-badge"></i> Role</th>
                </tr>
            </thead>
            <tbody id="userTableBody">
                @for (item of userList; track $index) {
                <tr>
                    <td>{{$index+1}}</td>
                    <td>{{item.userName}}</td>
                    <td>{{item.emailId}}</td>
                    <td>{{item.fullName}}</td>
                    <td>{{item.password}}</td>
                    <td>
                        <div class="d-flex justify-content-center">
                            <button (click)="onEdit(item)" class="btn btn-success btn-sm btn-icon"><i
                                    class="fas fa-edit"></i></button>
                            <button (click)="onDelete(item.userId)" class="btn btn-danger btn-sm btn-icon ms-2"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>
<button class="floating-button" (click)="showHideForm()">
    <i class="fas fa-plus"></i>
</button>